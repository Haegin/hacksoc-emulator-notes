\documentclass[12pt,a4paper]{article}
\pagestyle{headings}

\usepackage[utf8x]{inputenc}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{graphicx}
\usepackage[margin=0.9in]{geometry}
\usepackage{ucs}
\usepackage[british]{babel}
\usepackage[nodayofweek]{datetime}
\usepackage{enumitem}
\usepackage{multirow}
\usepackage{tabularx}
\usepackage{float}
\usepackage{listings}
\usepackage{pdflscape}
\usepackage[usenames,dvipsnames]{color}
\usepackage{cite}

\lstset{basicstyle=\small\ttfamily}
\lstset{showstringspaces=false}
\lstset{numbers=left, numberstyle=\tiny, stepnumber=1, numbersep=5pt}
\lstset{keywordstyle=\color{MidnightBlue}\bfseries}
\lstset{commentstyle=\color{JungleGreen}}
\lstset{identifierstyle=\color{OliveGreen}}
\lstset{stringstyle=\color{Red}}
\lstset{backgroundcolor=\color{LightGray}}
\lstset{breaklines=true}

\definecolor{LightGray}{rgb}{0.9,0.9,0.9}

\floatstyle{boxed}
\restylefloat{figure}

\author{Michael Walker}
\title{Lecture 1. Introduction}
\date{}

\begin{document}

\maketitle{}

This is intended to be a \textbf{very} brief introductory lecture,
where I'll introduce the terminology and the tools that we'll be
using.

\tableofcontents

\pagebreak
\section{The Project}

So, you want to learn how to program? Well, the best way to learn is
to do it! In this ``module'' we'll be making an emulator for the
PicoBlaze microprocessor from scratch in Python.

If you're currently a first year doing ICAR and TPOP, this should
complement those modules nicely.

\pagebreak
\subsection{Components of a Computer}

A computer is made up of a lot of pieces, but for our purposes, the
three we're most interested in are the \textbf{CPU}, \textbf{ALU}, and
\textbf{memory}.

The ALU is typically a component of the CPU rather than something
separate, so we'll usually refer to both as just the CPU.

Every computer needs at least a CPU and a memory to function. Without
a CPU it can't actually do any computing, and without a memory, it
can't store any programs to compute with.

\subsubsection{CPU / ALU}

The CPU is the bit which reads in an instruction from memory (fetch),
figures out what it is (decode), and does it (execute). And it just
does that all the time.

The ALU is a component of the CPU which deals with arithmetical and
logical operations, such as addition and bit-shifting. We're not going
to separate them in our implementation, but this might be useful in
implementing more complex processors.

So, how can we implement a CPU? Well, since it's a solid object, a
class may be a good start. A CPU also has some flags and registers,
so let's add a way of storing those:

\lstinputlisting[language=python]{cpu1.py}

\pagebreak
\subsubsection{Memory}

So, memory. What \textbf{is} memory? Well, it's a big block of space
where you can store stuff. Each location in memory has a unique number
associated with it. These numbers count up from 0.

In other words, it's like a big array. Let's implement it in exactly
that way.

\lstinputlisting[language=python]{mem1.py}

\pagebreak
\subsection{The PicoBlaze}

The PicoBlaze is a processor by Xilinx, it's a very minimal
architecture designed for implementation on an FPGA. The memory
consists of 256 8-bit values (``words''), and each instruction is 2
words. It has 16 registers and two flags (``zero'' and ``carry'').

Let's extend our CPU design to have this:

\lstinputlisting[language=python]{cpu2.py}

\pagebreak
\section{Source control: Being able to fix mistakes.}

\pagebreak
\section{Testing: How to make sure it's right.}

\pagebreak
\section{Homework}

\begin{itemize}
  \item Finish the \texttt{Memory} implementation: add \texttt{read}
    and \texttt{write} functions that ensure the memory address is in
    the correct range (if it's too big it should wrap around), and
    ensure that the value being written is in range (an error should
    be given if it's not).

  \item Implement the ability to read in a PicoBlaze binary file to
    memory.
\end{itemize}

\end{document}